const dataPackage = {
  mapPoints: [
    {
      name: '大学',
      value: [118.930171, 31.703351],
      httpData: [0.971743333, null, null, null, null, 0.881421657, 0.876089908, 1.0, 0.937139668, 0.908056545, 0.999516, 0.928878649, 0.879298021, 0.8780433, 0.975587922, 0.998554966, 0.999444667, 0.999502488, null, null, null, 0.859011991, 0.965858667, 0.94750865],
      videoData: [0.888888889, null, null, null, null, 0.82905216, 0.95657083, 0.845459719, 0.888744411, 0.888888889, 0.823249983, 0.788489062, 0.795342844, 0.856903031, 0.870429708, 0.888888889, 0.765412666, 0.759318597, null, null, null, 0.759318597, 0.920336071, 0.888744411],
      imData: [0.675509833, null, null, null, null, 0.50265781, 0.485233294, 0.553194106, 0.496770462, 0.52891866, 0.567119116, 0.542499407, 0.532853977, 0.567114947, 0.521859877, 0.567082549, 0.567322529, 0.515631975, null, null, null, 0.473112995, 0.554526211, 0.538791652],
      QData: [0.906725809, null, null, null, null, 0.833581353, 0.915346491, 0.882452653, 0.889748065, 0.882076667, 0.868163033, 0.82278192, 0.811787063, 0.853165985, 0.890330039, 0.911111048, 0.830044753, 0.824227245, null, null, null, 0.779743103, 0.921382179, 0.894400586],
      pdfData: [
        [0, 0], [0.7435427757083443, 0.10883081094575883], [0.7460107980552939, 0.13029174361542833], [0.7484788204022436, 0.15541277746814292], [0.7509468427491933, 0.18469763877347636], [0.753414865096143, 0.2186959597961918], [0.7558828874430926, 0.2580031282852504], [0.7583509097900423, 0.30325919582472133], [0.7608189321369919, 0.3551466982536508], [0.7632869544839417, 0.4143872450228937], [0.7657549768308913, 0.481736743222974], [0.768222999177841, 0.5579791366932519], [0.7706910215247906, 0.6439185615895731], [0.7731590438717403, 0.740369847359492], [0.7756270662186899, 0.84814732635646], [0.7780950885656397, 0.9680519561757931], [0.7805631109125893, 1.1008568057936925], [0.783031133259539, 1.2472910090083693], [0.7854991556064886, 1.40802234547023], [0.7879671779534383, 1.5836386693749693], [0.790435200300388, 1.774628466996653], [0.7929032226473377, 1.9813608846944202], [0.7953712449942874, 2.204065626638042], [0.797839267341237, 2.442813173892936], [0.8003072896881867, 2.6974958212223004], [0.8027753120351364, 2.9678100625390313], [0.8052433343820861, 3.253240878016458], [0.8077113567290357, 3.5530484833044684], [0.8101793790759854, 3.8662580922868717], [0.812647401422935, 4.191653217992732], [0.8151154237698848, 4.527772990817293], [0.8175834461168344, 4.872913908931645], [0.8200514684637841, 5.225136353178723], [0.8225194908107337, 5.582276099122114], [0.8249875131576834, 5.941960944245307], [0.8274555355046331, 6.301632441331583], [0.8299235578515828, 6.6585725932051245], [0.8323915801985324, 7.009935223278724], [0.8348596025454821, 7.352781595185294], [0.8373276248924317, 7.684119717926811], [0.8397956472393815, 8.000946645333784], [0.8422636695863311, 8.300292965002594], [0.8447316919332808, 8.579268576805742], [0.8471997142802304, 8.835108788616834], [0.8496677366271801, 9.065219710464984],
        [0.8521357589741297, 9.26722191050676], [0.8546037813210795, 9.438991308587688], [0.8570718036680292, 9.578696326301484], [0.8595398260149788, 9.684830385762858], [0.8620078483619285, 9.756238951077018], [0.8644758707088781, 9.792140433917684], [0.8669438930558279, 9.792140433917684], [0.8694119154027775, 9.756238951077018], [0.8718799377497272, 9.684830385762858], [0.8743479600966768, 9.578696326301484], [0.8768159824436265, 9.438991308587688], [0.8792840047905761, 9.26722191050677], [0.8817520271375259, 9.065219710464984], [0.8842200494844755, 8.835108788616834], [0.8866880718314252, 8.579268576805742], [0.8891560941783748, 8.300292965002594], [0.8916241165253245, 8.000946645333784], [0.8940921388722742, 7.684119717926811], [0.8965601612192239, 7.352781595185294], [0.8990281835661735, 7.009935223278724], [0.9014962059131232, 6.6585725932051245], [0.9039642282600728, 6.301632441331583], [0.9064322506070226, 5.941960944245307], [0.9089002729539722, 5.582276099122114], [0.9113682953009219, 5.225136353178723], [0.9138363176478715, 4.872913908931645], [0.9163043399948212, 4.527772990817293], [0.918772362341771, 4.191653217992732], [0.9212403846887206, 3.8662580922868717], [0.9237084070356703, 3.5530484833044684], [0.9261764293826199, 3.253240878016458], [0.9286444517295696, 2.9678100625390313], [0.9311124740765193, 2.6974958212223004], [0.933580496423469, 2.442813173892936], [0.9360485187704186, 2.204065626638042], [0.9385165411173683, 1.9813608846944202], [0.9409845634643179, 1.774628466996653], [0.9434525858112677, 1.5836386693749693], [0.9459206081582173, 1.40802234547023], [0.948388630505167, 1.2472910090083693], [0.9508566528521166, 1.1008568057936925], [0.9533246751990663, 0.9680519561757931], [0.955792697546016, 0.84814732635646], [0.9582607198929657, 0.740369847359492], [0.9607287422399153, 0.6439185615895731], [0.963196764586865, 0.5579791366932519], [0.9656647869338146, 0.481736743222974], [0.9681328092807644, 0.4143872450228909], [0.9706008316277139, 0.35514669825365314], [0.9730688539746637, 0.30325919582472133], [0.9755368763216133, 0.2580031282852504], [0.978004898668563, 0.2186959597961918], [0.9804729210155128, 0.18469763877347498], [0.9829409433624623, 0.155412777468144], [0.985408965709412, 0.13029174361542833], [0.9878769880563617, 0.10883081094575883]
      ],
      weight: [0.305976217, 0.819404207, 0.035216994]
    },
    {
      name: '商业区',
      value: [118.761787, 32.039525],
      httpData: [0.958518662, null, 0.89696472, 0.94794151, 0.986685541, 0.909555482, 0.954444637, 0.863060808, 0.909000851, 0.996056313, null, 0.889547588, 0.89114085, 0.986070537, null, 0.909555482, null, 0.883045894, 0.854288793, 0.902245101, 0.737132499, 0.882280028, 0.869477767, 0.875767941],
      videoData: [0.787810324, null, 0.812659162, 0.793689212, 0.793689212, 0.757075956, 0.85408504, 0.777567826, 0.757075956, 0.791720028, null, 0.828792834, 0.812659162, 0.793689212, null, 0.757075956, null, 0.777567826, 0.664458259, 0.504536838, 0.85408504, 0.777567826, 0.826585452, 0.828792834],
      imData: [0.515283469, null, 0.546666667, 0.716417836, 0.764179387, 0.428947327, 0.425475305, 0.714947008, 0.567304783, 0.468404715, null, 0.613917782, 0.533244042, 0.571070215, null, 0.664653539, null, 0.698807166, 0.570493613, 0.589371785, 0.507731537, 0.695797408, 0.833333333, 0.873337792],
      QData: [0.809483395, null, 0.820648104, 0.816763824, 0.823947113, 0.774684947, 0.86128237, 0.789947836, 0.777454361, 0.817722331, null, 0.83407106, 0.819439367, 0.819859595, null, 0.779554052, null, 0.792810807, 0.692878352, 0.569898092, 0.82822505, 0.792626142, 0.83358497, 0.83722614],
      pdfData: [
        [0, 0], [0.6093106475476119, 0.0717534921518968], [0.6130539757870541, 0.0859029490061054], [0.6167973040264962, 0.10246555558538231], [0.6205406322659385, 0.12177342481451882], [0.6242839605053806, 0.14418893600552612], [0.6280272887448228, 0.1701046356238879], [0.631770616984265, 0.19994251755088704], [0.6355139452237072, 0.2341525860596235], [0.6392572734631494, 0.2732106071360207], [0.6430006017025915, 0.3176149596216615], [0.6467439299420338, 0.3678825073314556], [0.6504872581814759, 0.4245434271229105], [0.6542305864209181, 0.4881349460722793], [0.6579739146603603, 0.5591939635155513], [0.6617172428998025, 0.638248560646187], [0.6654605711392447, 0.7258084313480723], [0.6692038993786869, 0.8223543025018785], [0.6729472276181291, 0.9283264494440554], [0.6766905558575712, 1.0441124516757576], [0.6804338840970134, 1.1700343742053028], [0.6841772123364556, 1.3063355997673571], [0.6879205405758978, 1.4531675751461541], [0.69166386881534, 1.6105767693749569], [0.6954071970547822, 1.7784921710664827], [0.6991505252942244, 1.9567136749247274], [0.7028938535336665, 2.144901722043813], [0.7066371817731087, 2.342568563503207], [0.7103805100125509, 2.549071510827732], [0.7141238382519931, 2.7636085191960524], [0.7178671664914352, 2.985216419310693], [0.7216104947308775, 3.21277207146475], [0.7253538229703196, 3.4449966608928335], [0.7290971512097618, 3.6804632878065298], [0.732840479449204, 3.917607929911299], [0.7365838076886462, 4.154743771491145], [0.7403271359280884, 4.390078803579809], [0.7440704641675306, 4.6217365069485865], [0.7478137924069728, 4.847779336567536], [0.7515571206464149, 5.06623463597357], [0.7553004488858571, 5.275122525824318], [0.7590437771252994, 5.472485236001684], [0.7627871053647415, 5.656417287946645], [0.7665304336041837, 5.825095886137706], [0.7702737618436258, 5.976810847015156], [0.7740170900830681, 6.109993381900315], [0.7777604183225102, 6.223243058623553], [0.7815037465619524, 6.315352295015295], [0.7852470748013947, 6.385327785746557],
        [0.7889904030408368, 6.432408331102426], [0.792733731280279, 6.456078620286737], [0.7964770595197211, 6.456078620286737], [0.8002203877591634, 6.432408331102426], [0.8039637159986055, 6.385327785746557], [0.8077070442380477, 6.315352295015295], [0.81145037247749, 6.223243058623553], [0.8151937007169321, 6.109993381900315], [0.8189370289563743, 5.976810847015156], [0.8226803571958164, 5.825095886137706], [0.8264236854352587, 5.656417287946645], [0.8301670136747008, 5.472485236001684], [0.833910341914143, 5.275122525824318], [0.8376536701535853, 5.06623463597357], [0.8413969983930274, 4.847779336567536], [0.8451403266324696, 4.62173650694858], [0.8488836548719118, 4.390078803579809], [0.852626983111354, 4.154743771491145], [0.8563703113507961, 3.917607929911299], [0.8601136395902383, 3.6804632878065298], [0.8638569678296806, 3.4449966608928335], [0.8676002960691227, 3.21277207146475], [0.8713436243085648, 2.9852164193106994], [0.8750869525480071, 2.7636085191960524], [0.8788302807874493, 2.549071510827732], [0.8825736090268914, 2.342568563503207], [0.8863169372663336, 2.144901722043813], [0.8900602655057759, 1.9567136749247223], [0.893803593745218, 1.7784921710664827], [0.8975469219846601, 1.6105767693749569], [0.9012902502241024, 1.4531675751461541], [0.9050335784635446, 1.3063355997673571], [0.9087769067029867, 1.1700343742053028], [0.912520234942429, 1.0441124516757576], [0.9162635631818712, 0.9283264494440523], [0.9200068914213133, 0.8223543025018785], [0.9237502196607554, 0.7258084313480723], [0.9274935479001977, 0.638248560646187], [0.9312368761396399, 0.5591939635155513], [0.934980204379082, 0.4881349460722793], [0.9387235326185243, 0.4245434271229105], [0.9424668608579665, 0.367882507331454], [0.9462101890974086, 0.3176149596216615], [0.9499535173368507, 0.2732106071360207], [0.953696845576293, 0.2341525860596235], [0.9574401738157352, 0.19994251755088704], [0.9611835020551773, 0.1701046356238879], [0.9649268302946196, 0.14418893600552612], [0.9686701585340618, 0.12177342481451818], [0.9724134867735039, 0.10246555558538231], [0.976156815012946, 0.0859029490061054], [0.9799001432523883, 0.0717534921518968]
      ],
      weight: [0.159938279, 0.819404207, 0.020657514]
    },
    {
      name: '火车站',
      value: [118.774489, 31.948281],
      httpData: [0.996750667, 0.988735333, 0.977572, 0.966342351, 0.996258, 0.895492522, 0.984235936, 0.913814522, null, 0.989748, null, 0.998056667, 0.956273684, null, null, 0.916127188, 0.996765333, 0.995198, null, 0.995940667, 0.991101934, 0.989377333, 0.994882, 0.911956437],
      videoData: [0.766524815, 0.766524815, 0.877635926, 0.766524815, 0.877635926, 0.877635926, 0.877635926, 0.877635926, null, 0.877635926, null, 0.877635926, 0.766524815, null, null, 0.766524815, 0.766524815, 0.766524815, null, 0.877635926, 0.877635926, 0.877635926, 0.877635926, 0.877635926],
      imData: [0.461692053, 0.425468282, 0.446838265, 0.404749811, 0.559616625, 0.374967398, 0.467749894, 0.602213333, null, 0.5777, null, 0.518528939, 0.577089691, null, null, 0.645597169, 0.475346172, 0.466889271, null, 0.400176616, 0.518326778, 0.69469486, 0.687705556, 0.506228305],
      QData: [0.807539734, 0.804803784, 0.887104017, 0.799407817, 0.894273481, 0.86743927, 0.88912162, 0.877727182, null, 0.893378015, null, 0.893512961, 0.80205473, null, null, 0.795331313, 0.807924211, 0.807350856, null, 0.889752505, 0.892011158, 0.896565609, 0.897554626, 0.874646866],
      pdfData: [
        [0, 0], [0.7325890688339056, 0.10711722925911554], [0.7350965727649591, 0.12824025154401966], [0.7376040766960126, 0.15296574535448484], [0.7401115806270661, 0.18178950560219753], [0.7426190845581195, 0.21525251038703108], [0.745126588489173, 0.25394077285589856], [0.7476340924202265, 0.2984842667420893], [0.75014159635128, 0.3495547811034378], [0.7526491002823334, 0.4078625633810025], [0.7551566042133869, 0.474151618626397], [0.7576641081444404, 0.5491935471910004], [0.7601716120754939, 0.6337798238071316], [0.7626791160065474, 0.7287124481289544], [0.7651866199376008, 0.834792930543459], [0.7676941238686543, 0.9528096172700495], [0.7702016277997077, 1.0835234050257283], [0.7727091317307613, 1.2276519471252725], [0.7752166356618146, 1.3858525087795408], [0.7777241395928681, 1.5587036882008058], [0.7802316435239216, 1.7466862802646428], [0.7827391474549751, 1.9501636189831772], [0.7852466513860286, 2.169361791748396], [0.787754155317082, 2.4043501698750678], [0.7902616592481355, 2.65502274398549], [0.792769163179189, 2.9210807868090267], [0.7952766671102425, 3.202017387698184], [0.797784171041296, 3.4971044104831956], [0.8002916749723494, 3.805382417418636], [0.8027991789034029, 4.12565407557439], [0.8053066828344564, 4.456481517282175], [0.8078141867655099, 4.7961880629844105], [0.8103216906965633, 5.142864633550668], [0.8128291946276168, 5.494381081065035], [0.8153366985586703, 5.8484025542238935], [0.8178442024897238, 6.202410889515637], [0.8203517064207773, 6.553730885643184], [0.8228592103518307, 6.899561180130634], [0.8253667142828842, 7.237009308110458], [0.8278742182139377, 7.563130388598202], [0.8303817221449912, 7.874968757931192], [0.8328892260760447, 8.169601758211027], [0.8353967300070981, 8.444184795014031], [0.8379042339381516, 8.695996707321916], [0.8404117378692051, 8.922484446928303], [0.8429192418002586, 9.1213060470311], [0.845426745731312, 9.290370871909639], [0.8479342496623654, 9.427876182042406], [0.850441753593419, 9.532339121174518], [0.8529492575244724, 9.602623332009198], [0.855456761455526, 9.63795953261973],
        [0.8579642653865793, 9.63795953261973], [0.8604717693176329, 9.602623332009198], [0.8629792732486863, 9.532339121174518], [0.8654867771797398, 9.42787618204241], [0.8679942811107932, 9.290370871909639], [0.8705017850418467, 9.1213060470311], [0.8730092889729002, 8.922484446928303], [0.8755167929039537, 8.695996707321916], [0.8780242968350072, 8.444184795014031], [0.8805318007660606, 8.169601758211027], [0.8830393046971141, 7.874968757931192], [0.8855468086281676, 7.563130388598202], [0.8880543125592211, 7.237009308110458], [0.8905618164902745, 6.899561180130634], [0.893069320421328, 6.553730885643184], [0.8955768243523815, 6.202410889515637], [0.898084328283435, 5.8484025542238935], [0.9005918322144885, 5.494381081065035], [0.9030993361455419, 5.142864633550668], [0.9056068400765954, 4.7961880629844105], [0.9081143440076489, 4.456481517282175], [0.9106218479387024, 4.12565407557439], [0.9131293518697559, 3.805382417418636], [0.9156368558008093, 3.4971044104831956], [0.9181443597318628, 3.202017387698184], [0.9206518636629163, 2.9210807868090267], [0.9231593675939698, 2.65502274398549], [0.9256668715250231, 2.404350169875079], [0.9281743754560767, 2.169361791748396], [0.9306818793871301, 1.9501636189831875], [0.9331893833181837, 1.7466862802646428], [0.935696887249237, 1.5587036882008138], [0.9382043911802906, 1.3858525087795408], [0.940711895111344, 1.2276519471252725], [0.9432193990423976, 1.0835234050257283], [0.945726902973451, 0.9528096172700495], [0.9482344069045044, 0.834792930543459], [0.9507419108355579, 0.7287124481289544], [0.9532494147666114, 0.6337798238071316], [0.9557569186976649, 0.5491935471910004], [0.9582644226287184, 0.474151618626397], [0.9607719265597718, 0.4078625633810025], [0.9632794304908253, 0.3495547811034378], [0.9657869344218788, 0.2984842667420893], [0.9682944383529323, 0.25394077285589856], [0.9708019422839858, 0.21525251038703108], [0.9733094462150392, 0.18178950560219753], [0.9758169501460927, 0.15296574535448484], [0.9783244540771462, 0.12824025154401966], [0.9808319580081997, 0.10711722925911554]
      ],
      weight: [0.215128041, 0.756944787, 0.027927172]
    },
    {
      name: '景区',
      value: [118.953851, 32.042616],
      httpData: [0, 0, 0, 0, 0, 0, 0.889524048, 0.894642048, 0.891391382, 0.9679779, 0.894336048, 0.962070566, 0.866092715, 0.9670439, 0.893883382, 0.968915233, 0.879475382, 0.965412566, 0.884476715, 0.966803233, 0.857595032, 0.968915233, 0, 0],
      videoData: [0, 0, 0, 0, 0, 0, 0.888888889, 0.888888889, 0.888888889, 0.894806369, 0.783695258, 0.783695258, 0.888888889, 1.0, 0.783695258, 0.783695258, 0.894806369, 1.0, 1.0, 0.894806369, 0.888888889, 0.888888889, 0, 0],
      imData: [0, 0, 0, 0, 0, 0, 0.77500834, 0.55871118, 0.547853358, 0.606876734, 0.533216805, 0.55456435, 0.491346017, 0.596611781, 0.51859, 0.499025501, 0.508378055, 0.48044037, 0.58551924, 0.524543727, 0.552327606, 0.564535583, 0, 0],
      QData: [0, 0, 0, 0, 0, 0, 0.88528662, 0.879949511, 0.878332229, 0.913229854, 0.817798166, 0.844576681, 0.866691158, 0.973696307, 0.817129967, 0.845333852, 0.875855916, 0.96914474, 0.94155806, 0.909996948, 0.865481915, 0.908719114, 0, 0],
      pdfData: [
        [0, 0], [0.7502625065318858, 0.09719938637764512], [0.7530258662963931, 0.1163666559078108], [0.7557892260609005, 0.13880284887960528], [0.7585525858254079, 0.16495785520820327], [0.7613159455899152, 0.19532256454520508], [0.7640793053544226, 0.23042873185368407], [0.76684266511893, 0.2708480024304169], [0.7696060248834372, 0.3171899652710135], [0.7723693846479446, 0.3700991069433683], [0.775132744412452, 0.4302505460533167], [0.7778961041769593, 0.49834444149408086], [0.7806594639414667, 0.5750989863971177], [0.783422823705974, 0.661241924327109], [0.7861861834704814, 0.7575005548821643], [0.7889495432349888, 0.8645902323457109], [0.7917129029994961, 0.9832014030119749], [0.7944762627640035, 1.113985273622477], [0.7972396225285109, 1.2575382540696989], [0.8000029822930181, 1.414385370921061], [0.8027663420575255, 1.5849629028891887], [0.8055297018220329, 1.7696005433695585], [0.8082930615865402, 1.968503446620924], [0.8110564213510476, 2.1817345609595806], [0.813819781115555, 2.4091976922761926], [0.8165831408800623, 2.6506217720638454], [0.8193465006445697, 2.9055468238628652], [0.8221098604090771, 3.173312128670433], [0.8248732201735844, 3.453047081815689], [0.8276365799380918, 3.743665209844249], [0.8303999397025992, 4.043861775357507], [0.8331632994671065, 4.352115340345204], [0.8359266592316139, 4.666693584793952], [0.8386900189961212, 4.985663588371946], [0.8414533787606285, 5.306906680576206], [0.8442167385251359, 5.628137851331126], [0.8469800982896433, 5.946929592696938], [0.8497434580541506, 6.2607399166520805], [0.852506817818658, 6.566944167833574], [0.8552701775831654, 6.862870127900599], [0.8580335373476727, 7.1458357941880575], [0.8607968971121801, 7.413189113834976], [0.8635602568766875, 7.662348869661008], [0.8663236166411947, 7.890845849355093], [0.8690869764057021, 8.096363388074732], [0.8718503361702095, 8.27677635863305], [0.8746136959347168, 8.43018769451149], [0.8773770556992242, 8.554961569461547], [0.8801404154637316, 8.649752422931853], [0.8829037752282389, 8.713529111447974], [0.8856671349927463, 8.745593579881454],
        [0.8884304947572537, 8.745593579881454], [0.891193854521761, 8.713529111447974], [0.8939572142862684, 8.649752422931853], [0.8967205740507758, 8.554961569461547], [0.8994839338152831, 8.43018769451149], [0.9022472935797905, 8.27677635863305], [0.9050106533442979, 8.096363388074732], [0.9077740131088051, 7.890845849355102], [0.9105373728733125, 7.662348869661008], [0.9133007326378199, 7.413189113834976], [0.9160640924023272, 7.1458357941880575], [0.9188274521668346, 6.862870127900599], [0.921590811931342, 6.566944167833574], [0.9243541716958493, 6.2607399166520805], [0.9271175314603567, 5.946929592696938], [0.9298808912248641, 5.628137851331126], [0.9326442509893713, 5.306906680576218], [0.9354076107538787, 4.985663588371958], [0.938170970518386, 4.666693584793952], [0.9409343302828934, 4.352115340345204], [0.9436976900474008, 4.043861775357507], [0.9464610498119082, 3.743665209844249], [0.9492244095764155, 3.453047081815689], [0.9519877693409229, 3.173312128670433], [0.9547511291054303, 2.9055468238628652], [0.9575144888699376, 2.6506217720638454], [0.960277848634445, 2.4091976922761926], [0.9630412083989524, 2.1817345609595806], [0.9658045681634597, 1.968503446620924], [0.9685679279279671, 1.7696005433695585], [0.9713312876924745, 1.5849629028891887], [0.9740946474569817, 1.4143853709210674], [0.9768580072214891, 1.2575382540696989], [0.9796213669859964, 1.113985273622477], [0.9823847267505038, 0.9832014030119749], [0.9851480865150112, 0.8645902323457109], [0.9879114462795185, 0.7575005548821643], [0.9906748060440259, 0.661241924327109], [0.9934381658085333, 0.5750989863971177], [0.9962015255730406, 0.49834444149408086], [0.9989648853375479, 0.4302505460533195], [1.0017282451020553, 0.3700991069433703], [1.0044916048665626, 0.31718996527101573], [1.00725496463107, 0.2708480024304169], [1.0100183243955774, 0.23042873185368407], [1.0127816841600847, 0.19532256454520508], [1.015545043924592, 0.16495785520820327], [1.0183084036890995, 0.13880284887960528], [1.0210717634536068, 0.1163666559078108], [1.0238351232181142, 0.09719938637764512]
      ],
      weight: [0.384699653, 0.581522731, 0.033777615]
    },
    {
      name: '居民区',
      value: [118.574721, 32.048903],
      httpData: [0.98475062, 0.926955555, 0.890191225, 0.4242160975, 0.894471091, 0.880981349, 0.99567537, 0.972016004, 0.933238458, 0.932422048, 0.958798352, 0.876880652, 0.971190081, 0.918586123, 0.909728605, 0.890998206, 0.888929472, 0.903660198, 0.99347188, 0.903149721, 0.9439254, 0.926237247, 0.892677942, 0.92873681],
      videoData: [0.920690904, 0.841898154, 0.803121761, 0.619930107, 0.938045357, 0.836182667, 0.986083157, 0.993609683, 0.888150865, 0.789763755, 0.798942383, 0.771999455, 0.535563214, 0.927075727, 0.952806478, 0.746661059, 0.896153871, 0.829627839, 0.92739197, 0.989798228, 0.916947021, 0.937934066, 0.965873066, 0.930889776],
      imData: [0.576687741, 0.529196656, 0.53705947, 0.804425015, 0.494982306, 0.569555523, 0.460788087, 0.580380217, 0.537344455, 0.515768005, 0.629744444, 0.575837244, 0.437393023, 0.590909091, 0.666666667, 0.591095537, 0.566829944, 0.561765645, 0.566091079, 0.592875238, 0.588714469, 0.633457489, 0.578917398, 0.482613923],
      QData: [0.939808786, 0.869726733, 0.832525437, 0.915127183, 0.913553871, 0.849110231, 0.980907422, 0.978186876, 0.899762754, 0.840687384, 0.858343387, 0.809527621, 0.703595496, 0.918065074, 0.931170785, 0.800248019, 0.887752173, 0.853922389, 0.947003336, 0.949310059, 0.921887487, 0.928211713, 0.930794755, 0.922445461],
      pdfData: [
        [0, 0], [0.7035209423359415, 0.07095416824607657], [0.707306440497505, 0.08494600212224247], [0.7110919386590685, 0.10132410357174172], [0.714877436820632, 0.12041688582765273], [0.7186629349821955, 0.1425826913469389], [0.722448433143759, 0.16820969368214705], [0.7262339313053224, 0.1977151857615169], [0.7300194294668858, 0.23154415887323804], [0.7338049276284493, 0.2701670790364375], [0.7375904257900128, 0.3140767732218373], [0.7413759239515763, 0.36378434745345756], [0.7451614221131397, 0.4198140724924796], [0.7489469202747032, 0.48269719078037154], [0.7527324184362667, 0.5529646206693236], [0.7565179165978302, 0.6311385606018711], [0.7603034147593937, 0.7177230265430454], [0.7640889129209572, 0.8131933901430451], [0.7678744110825206, 0.9179850221324067], [0.7716599092440841, 1.032481184430645], [0.7754454074056476, 1.1570003542867493], [0.7792309055672111, 1.2917832031856378], [0.7830164037287746, 1.4369794908154576], [0.786801901890338, 1.5926351685509208], [0.7905874000519014, 1.758680016061705], [0.7943728982134649, 1.9349161571969247], [0.7981583963750284, 2.121007815689611], [0.8019438945365919, 2.3164726760742425], [0.8057293926981554, 2.520675209335726], [0.8095148908597188, 2.7328223053202825], [0.8133003890212823, 2.951961524302235], [0.8170858871828458, 3.176982238194523], [0.8208713853444093, 3.4066198780500914], [0.8246568835059728, 3.63946343954536], [0.8284423816675363, 3.873966323376253], [0.8322278798290996, 4.108460504718845], [0.8360133779906631, 4.341173937337098], [0.8397988761522266, 4.570251006165076], [0.8435843743137901, 4.793775750154536], [0.8473698724753536, 5.009797487960553], [0.851155370636917, 5.216358395820783], [0.8549408687984805, 5.411522512903495], [0.858726366960044, 5.593405587415349], [0.8625118651216075, 5.760205129522992], [0.866297363283171, 5.9102300068733165], [0.8700828614447345, 6.041928906874947], [0.8738683596062979, 6.153916997977523], [0.8776538577678614, 6.245000150308588], [0.8814393559294249, 6.314196123822143], [0.8852248540909884, 6.360752198462045], [0.8890103522525519, 6.384158803922605], [0.8927958504141154, 6.384158803922604],
        [0.8965813485756788, 6.360752198462043], [0.9003668467372422, 6.314196123822141], [0.9041523448988057, 6.245000150308585], [0.9079378430603692, 6.15391699797752], [0.9117233412219327, 6.0419289068749436], [0.9155088393834961, 5.910230006873312], [0.9192943375450596, 5.760205129522988], [0.9230798357066231, 5.5934055874153445], [0.9268653338681866, 5.41152251290349], [0.9306508320297501, 5.216358395820777], [0.9344363301913136, 5.0097974879605465], [0.938221828352877, 4.79377575015453], [0.9420073265144404, 4.570251006165076], [0.9457928246760039, 4.341173937337098], [0.9495783228375674, 4.108460504718845], [0.9533638209991309, 3.873966323376245], [0.9571493191606943, 3.6394634395453527], [0.9609348173222578, 3.4066198780500843], [0.9647203154838213, 3.176982238194516], [0.9685058136453848, 2.951961524302228], [0.9722913118069483, 2.7328223053202763], [0.9760768099685118, 2.5206752093357196], [0.9798623081300752, 2.3164726760742362], [0.9836478062916387, 2.1210078156896057], [0.9874333044532022, 1.9349161571969196], [0.9912188026147657, 1.7586800160617002], [0.9950043007763292, 1.5926351685509113], [0.9987897989378927, 1.436979490815449], [1.0025752970994561, 1.2917832031856293], [1.0063607952610196, 1.157000354286742], [1.010146293422583, 1.032481184430638], [1.0139317915841466, 0.9179850221324002], [1.0177172897457099, 0.8131933901430451], [1.0215027879072736, 0.7177230265430401], [1.0252882860688368, 0.6311385606018711], [1.0290737842304005, 0.5529646206693192], [1.0328592823919638, 0.48269719078037154], [1.0366447805535275, 0.41981407249247626], [1.0404302787150908, 0.36378434745345756], [1.0442157768766542, 0.3140767732218373], [1.0480012750382177, 0.2701670790364375], [1.0517867731997812, 0.23154415887323804], [1.0555722713613447, 0.19771518576151592], [1.0593577695229082, 0.16820969368214622], [1.0631432676844716, 0.1425826913469382], [1.0669287658460351, 0.12041688582765209], [1.0707142640075986, 0.10132410357174118], [1.074499762169162, 0.08494600212224201], [1.0782852603307256, 0.0709541682460762]
      ],
      weight: [0.389548694, 0.5934849, 0.016966407]
    }
  ]
};


var xData = [];
for (var i = 0; i < 24; i++) {
  xData.push(i);
};


const charts = {
  http: echarts.init(document.querySelector(".http .chart")),
  video: echarts.init(document.querySelector(".video .chart")),
  im: echarts.init(document.querySelector(".im .chart")),
  q: echarts.init(document.querySelector(".q .chart")),
  pdf: echarts.init(document.querySelector(".pdf .chart")),
  pie: echarts.init(document.querySelector(".pie .chart"))
};

// 图表通用配置
const chartCommonOption = {
  color: ['#00f2f1', '#ed3f35'],
  tooltip: { trigger: 'axis' },
  legend: {
    textStyle: { color: '#4c9bfd' },
    right: '10%'
  },
  grid: {
    top: "20%",
    left: '3%',
    right: '4%',
    bottom: '3%',
    containLabel: true,
    borderColor: '#012f4a'
  },
  xAxis: {
    type: 'category',
    boundaryGap: false,
    data: xData,
    axisTick: { show: false },
    axisLabel: { color: "#4c9bfb" },
    axisLine: { show: false }
  },
  yAxis: {
    type: 'value',
    min: 0,
    max: 1,
    axisTick: { show: false },
    axisLabel: { color: "#4c9bfb" },
    axisLine: { show: false },
    splitLine: { lineStyle: { color: "#012f4a" } }
  }
};

// 初始化图表数据（使用第一个点的数据）
function initChartData(pointData) {
  charts.http.setOption({
    ...chartCommonOption,
    series: [{
      type: 'line',
      smooth: true,
      name: 'http',
      data: pointData.httpData,
      connectNulls: true
    }]
  });

  charts.video.setOption({
    ...chartCommonOption,
    series: [{
      type: 'line',
      smooth: true,
      name: 'video',
      data: pointData.videoData,
      connectNulls: true
    }]
  });

  charts.im.setOption({
    ...chartCommonOption,
    series: [{
      type: 'line',
      smooth: true,
      name: 'im',
      data: pointData.imData,
      connectNulls: true
    }]
  });

  charts.q.setOption({
    ...chartCommonOption,
    series: [{
      type: 'line',
      smooth: true,
      name: 'Q',
      data: pointData.QData,
      connectNulls: true
    }]
  });

  charts.pdf.setOption({
    ...chartCommonOption,


    xAxis: {
      type: 'value',
      min: 0,
      max: 1,
      axisTick: { show: false },
      axisLabel: { color: "#4c9bfb" },
      axisLine: { show: false }
    },
    yAxis: {
      type: 'value',
      min: 0,
      max: 10,
      axisTick: { show: false },
      axisLabel: { color: "#4c9bfb" },
      axisLine: { show: false },
      splitLine: { lineStyle: { color: "#012f4a" } }
    },
    series: [{
      type: 'line',
      smooth: true,
      name: 'pdf',
      data: pointData.pdfData,
      connectNulls: true,
      showSymbol: false
    }]
  });

  charts.pie.setOption({
    legend: {
      top: 'top',
      left: 'left',
      textStyle: {
        color: '#fff'
      }
    },
    label: {
      color: '#fff',
      formatter: '{b}: {d}%'
    },
    series: [
      {
        name: 'weight',
        type: 'pie',

        center: ['50%', '50%'],

        itemStyle: {
          borderRadius: 8
        },
        data: [
          { value: pointData.weight[2], name: '微信' },
          { value: pointData.weight[0], name: '网页' },
          { value: pointData.weight[1], name: '视频' }
        ]
      }
    ]
  })
}

(function () {
  var mapChart = echarts.init(document.querySelector(".map .chart"));
  $.get('js/320100.json', function (geoJson) {
    echarts.registerMap('Nanjing', geoJson);
    mapChart.setOption(
      (option = {
        geo: {
          map: 'Nanjing',
          roam: false,
          itemStyle: {
            color: 'rgba(34, 70, 168, 0.7)',
            borderColor: '#0692a4',
            borderWidth: 1
          },
          label: {
            show: false,
            color: '#999',
            fontSize: 12,
            emphasis: {
              show: false,
              color: '#fff',
              fontSize: 14
            }
          },
          emphasis: {
            itemStyle: {
              color: 'rgba(34, 70, 168, 0.7)',
              borderColor: '#0692a4',
              borderWidth: 1,

            },
            label: {
              show: false,
              color: '#999',
              fontSize: 12,
              emphasis: {
                show: false,
                color: '#fff',
                fontSize: 14
              }
            }
          }
        },
        series: [
          {
            type: 'effectScatter',
            coordinateSystem: 'geo',
            data: dataPackage.mapPoints,
            symbolSize: 15,
            zIndex: 10,
            label: {
              normal: {
                show: true,
                position: 'top',
                formatter: '  {b}',
                color: '#00D8FF',
                fontWeight: "bold",
                fontSize: 16
              }
            },
            itemStyle: {
              normal: {
                show: true,
                color: '#00D8FF',
                shadowBlur: 30,
                shadowColor: '#fff'
              }
            }
          },
          {
            type: 'effectScatter',
            coordinateSystem: 'geo',
            data: [
              [118.54, 32.11],
              [118.82, 32.02],
              [118.6, 32.1],
              [118.8, 31.9],
              [118.67, 31.8],
              [118.9, 32.2],
              [118.72, 32.13],
              [118.65, 31.95],
              [118.85, 32.15],
              [118.75, 31.75],
              [118.95, 31.95],
              [118.99, 31.64],
              [118.77, 31.86],
              [118.75, 31.75],
              [118.95, 31.85]
            ],
            symbolSize: 8,
            zIndex: 5,
            silent: true,
            itemStyle: {
              color: '#1ba784'
            }
          }
        ]

      })

    );

    mapChart.on('click', function (params) {
      const pointData = params.data;
      const parentElements = document.querySelectorAll('.panel');
      parentElements.forEach(parent => {
          let staticPart;
          if (parent.classList.contains('http')) {
              staticPart = '网页浏览业务-';
          } else if (parent.classList.contains('video')) {
              staticPart = '视频播放业务-';
          } else if (parent.classList.contains('im')) {
              staticPart = '微信业务-';
          } else if (parent.classList.contains('q')) {
            staticPart = 'QoE-';
          } else if (parent.classList.contains('pdf')) {
            staticPart = '概率密度-';
          } else {
              staticPart = '权重-';
          }
          const childLabel = parent.querySelector('h2');
          if (childLabel) {
              childLabel.textContent = staticPart + pointData.name;
          }
      });
      initChartData(pointData);
    });

    initChartData(dataPackage.mapPoints[0]);
  });

  window.addEventListener('resize', function () {
    mapChart.resize();
    Object.values(charts).forEach(chart => chart.resize());
  });
})();